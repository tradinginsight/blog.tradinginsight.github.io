{"version":3,"sources":["webpack:///../packages/flow-ui/components/src/utils/normalizeSlug.js","webpack:///../packages/flow-ui/components/src/Pagination/Pagination.jsx","webpack:///../packages/themes/gatsby-theme-flexiblog-minimal/src/containers/Posts.jsx","webpack:///../packages/blog/core/src/templates/posts.js"],"names":["slug","replace","styles","wrapper","justifyContent","alignItems","textAlign","borderRadius","bg","maxWidth","mx","p","item","width","number","py","button","minWidth","Pagination","currentPage","pageCount","hasPreviousPage","hasNextPage","basePath","prefixPath","normalizeSlug","pagingPath","prevLink","nextLink","sx","variant","as","Link","to","Posts","data","featuredPosts","paginatedPosts","props","pageContext","services","Seo","title","location","pathname","Divider","effect","direction","mb","CardList","nodes","limit","pl","display","skip","omitMedia","omitCategory","aside","columns","pageInfo","mailchimp","NewsletterExpanded","simple","pageQuery","PostsPage"],"mappings":"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","file":"component---packages-blog-core-src-templates-posts-js-3afcacbb63898914cedb.js","sourcesContent":["// normalize use of trailing slash\r\nexport default slug => slug.replace(/\\/*$/, `/`)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'gatsby'\r\nimport { Button, Flex, Box } from 'theme-ui'\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa'\r\nimport normalizeSlug from '../utils/normalizeSlug'\r\n\r\nconst pagingParam = 'page'\r\n\r\nconst styles = {\r\n  wrapper: {\r\n    justifyContent: `space-between`,\r\n    alignItems: `center`,\r\n    textAlign: `center`,\r\n    borderRadius: `full`,\r\n    bg: `white`,\r\n    maxWidth: [`none`, 500],\r\n    mx: `auto`,\r\n    p: 1\r\n  },\r\n  item: {\r\n    width: `1/3`\r\n  },\r\n  number: {\r\n    py: 2\r\n  },\r\n  button: {\r\n    minWidth: `full`\r\n  }\r\n}\r\n\r\nconst Pagination = ({\r\n  currentPage,\r\n  pageCount,\r\n  hasPreviousPage,\r\n  hasNextPage,\r\n  basePath = '',\r\n  slug = ''\r\n}) => {\r\n  if (!hasNextPage && !hasPreviousPage) return ''\r\n  let prefixPath = normalizeSlug(basePath + slug)\r\n  let pagingPath = normalizeSlug(prefixPath + pagingParam)\r\n\r\n  const prevLink =\r\n    currentPage >= 3 ? `${pagingPath}${currentPage - 1}` : prefixPath\r\n  const nextLink = `${pagingPath}${currentPage + 1}`\r\n\r\n  return (\r\n    <Flex sx={styles.wrapper}>\r\n      <Box sx={styles.item}>\r\n        {hasPreviousPage && (\r\n          <Button variant='mute' as={Link} to={prevLink} sx={styles.button}>\r\n            <FaChevronLeft />\r\n            Previous\r\n          </Button>\r\n        )}\r\n      </Box>\r\n      <Box sx={{ ...styles.item, ...styles.number }}>\r\n        Page <strong>{currentPage}</strong> of <strong>{pageCount}</strong>\r\n      </Box>\r\n      <Box sx={styles.item}>\r\n        {hasNextPage && (\r\n          <Button variant='dark' as={Link} to={nextLink} sx={styles.button}>\r\n            Next\r\n            <FaChevronRight />\r\n          </Button>\r\n        )}\r\n      </Box>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n\r\nPagination.propTypes = {\r\n  currentPage: PropTypes.number,\r\n  pageCount: PropTypes.number,\r\n  hasPreviousPage: PropTypes.bool,\r\n  hasNextPage: PropTypes.bool,\r\n  slug: PropTypes.string,\r\n  pagingParam: PropTypes.string\r\n}\r\n","import React from 'react'\r\nimport { Stack, Main, Sidebar, PreFooter } from '@layout'\r\nimport CardList from '@components/CardList'\r\nimport Pagination from '@components/Pagination'\r\nimport Divider from '@components/Divider'\r\nimport Seo from '@widgets/Seo'\r\nimport NewsletterExpanded from '@widgets/NewsletterExpanded'\r\n\r\nconst Posts = ({\r\n  data: { featuredPosts = {}, paginatedPosts = {} },\r\n  ...props\r\n}) => {\r\n  const { pageContext: { services = {}, basePath } = {} } = props\r\n\r\n  return (\r\n    <>\r\n      <Seo title='Home' />\r\n      {props.location.pathname === basePath && (\r\n        <>\r\n          <Divider />\r\n          <Stack\r\n            effect={false}\r\n            title='Suggested Articles'\r\n            direction={[`column`, `column`, `column`, `row`]}\r\n          >\r\n            <Main mb={[3, 3, 3, 0]}>\r\n              <CardList\r\n                nodes={featuredPosts.nodes}\r\n                limit={1}\r\n                variant={['vertical', 'horizontal-lg']}\r\n              />\r\n            </Main>\r\n            <Sidebar\r\n              pl={[0, 0, 0, 3]}\r\n              sx={{ display: [`block`, `block`, `flex`] }}\r\n            >\r\n              <CardList\r\n                nodes={featuredPosts.nodes}\r\n                limit={4}\r\n                skip={4}\r\n                variant={[\r\n                  'horizontal-md',\r\n                  'horizontal',\r\n                  'horizontal',\r\n                  'horizontal-aside'\r\n                ]}\r\n                omitMedia\r\n                omitCategory\r\n                aside\r\n              />\r\n            </Sidebar>\r\n          </Stack>\r\n          <Divider />\r\n          <Stack>\r\n            <Main>\r\n              <CardList\r\n                nodes={featuredPosts.nodes}\r\n                limit={3}\r\n                skip={1}\r\n                columns={[1, 1, 1, 3]}\r\n                variant={[\r\n                  'horizontal-md',\r\n                  'horizontal',\r\n                  'horizontal',\r\n                  'vertical'\r\n                ]}\r\n              />\r\n            </Main>\r\n          </Stack>\r\n        </>\r\n      )}\r\n      <Divider />\r\n      <Stack title='Recently Published'>\r\n        <Main>\r\n          <CardList\r\n            nodes={paginatedPosts.nodes}\r\n            variant={['horizontal', 'vertical']}\r\n            columns={[1, 2, 3, 3]}\r\n            omitMedia\r\n          />\r\n        </Main>\r\n      </Stack>\r\n      <Divider />\r\n      <PreFooter>\r\n        <Pagination {...paginatedPosts.pageInfo} basePath={basePath} />\r\n        {services.mailchimp && (\r\n          <>\r\n            <Divider />\r\n            <NewsletterExpanded simple />\r\n          </>\r\n        )}\r\n      </PreFooter>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Posts\r\n","import { graphql } from 'gatsby'\r\nimport PostsPage from '../containers/Posts'\r\n\r\nexport default PostsPage\r\n\r\nexport const pageQuery = graphql`\r\n  query PostsPageQuery($paginatePostsPage: Boolean!, $skip: Int, $limit: Int) {\r\n    featuredPosts: allArticle(\r\n      filter: { private: { ne: true }, featured: { eq: true } }\r\n      sort: { fields: [date], order: DESC }\r\n      limit: 10\r\n    ) {\r\n      nodes {\r\n        ...ArticlePreview\r\n        ...ArticleThumbnailFeatured\r\n      }\r\n    }\r\n\r\n    recentPosts: allArticle(\r\n      filter: { private: { ne: true } }\r\n      sort: { fields: [date], order: DESC }\r\n      limit: 6\r\n    ) {\r\n      nodes {\r\n        ...ArticlePreview\r\n        ...ArticleThumbnailRegular\r\n      }\r\n    }\r\n\r\n    posts: allArticle(\r\n      filter: { private: { ne: true } }\r\n      sort: { fields: [date], order: DESC }\r\n      limit: 1000\r\n    ) @skip(if: $paginatePostsPage) {\r\n      group(field: category___name, limit: 10) {\r\n        categoryName: fieldValue\r\n        nodes {\r\n          ...ArticlePreview\r\n          ...ArticleThumbnailRegular\r\n        }\r\n      }\r\n    }\r\n\r\n    paginatedPosts: allArticle(\r\n      filter: { private: { ne: true } }\r\n      sort: { fields: [date], order: DESC }\r\n      limit: $limit\r\n      skip: $skip\r\n    ) @include(if: $paginatePostsPage) {\r\n      nodes {\r\n        ...ArticlePreview\r\n        ...ArticleThumbnailRegular\r\n      }\r\n      ...ArticlePagination\r\n    }\r\n  }\r\n`\r\n"],"sourceRoot":""}